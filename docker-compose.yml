version: '3.8'

services:
  x11-web-bridge:
    build: .
    container_name: x11-web-bridge
    ports:
      - "6080:6080"
      - "5901:5901"
    environment:
      - VNC_RESOLUTION=400x500
      - VNC_DEPTH=24
      - VNC_PORT=5901
      - WEB_PORT=6080
      - SINGLE_APP=xcalc
    volumes:
      - vnc_data:/home/vnc/.vnc
    restart: unless-stopped
    cap_add:
      - SYS_ADMIN
    shm_size: 1gb

volumes:
  vnc_data:
